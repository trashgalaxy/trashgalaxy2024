<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">
  <!-- <script src = "https://code.createjs.com/1.0.0/preloadjs.min.js"></script> -->
  <script src ="js/libraries/preloadjs.min.js"></script>
  <title>Trash Galaxy 2024</title>
</head>
<body>

  <section id="mobile">
    <p>Sorry Loser <br> This Site Requires .webm</p>
  </section>
  <section id="earthNotFound"></section>

  <button id="homeButton" type="button" onclick=" console.log('hello');
    let notFound = document.getElementById('earthNotFound');
    notFound.style.visibility = 'visible';
    homeButton.style.visibility = 'hidden';" name="button">Go Home?</button>

  <section id="splash">
    <div id="loadingAnim"></div>
    <div id="loadingAnim2"></div>
    <div id="loadingAnim3"></div>

    <div id="enterButton">
      <a href="#" onclick="leavingEarth()" style="text-decoration: none;">The Adventure Begins</a>
    </div>
  </section>

  <section id="background">
    <div id="backgroundVideo"></div>
  </section>

  <section id="cockpit">
    <img src="images/cockpits/Cockpit_White.png" alt="FUUUCK" id="cockpitStyle">
  </section>

  <div class="hologramWrapper">
    <div class="hologramContainer">
      <div id="hologramContent"></div>
      <div class="buttonWrapper">
        <div onclick="handleButtons('button1')" class="buttons" id="button0"></div>
        <div onclick="handleButtons('button2')" class="buttons" id="button1"></div>
        <div onclick="handleButtons('button3')" class="buttons" id="button2"></div>
        <div onclick="handleButtons('button3')" class="buttons" id="button3"></div>
        <div onclick="handleButtons('button3')" class="buttons" id="button4"></div>
      </div>
    </div>
  </div>

  <script>
//DONT FORGET TO UPDATE THIS SO YOU KNOW!!!
  console.log("NEW 4.0");
  //
  let animation = document.getElementById('loadingAnim');
  let animation2 = document.getElementById('loadingAnim2');
  let queue = new createjs.LoadQueue(false);

  queue.on("progress", event => {

    //let progress = Math.floor(event.progress *100);
    let progress = event.progress * 100;
    animation.style.left = progress+'%';
    animation2.style.width = progress+'%';
    if (progress == 100) {
      console.log('all done');
    }
  });
  //

  queue.on("error", event => {
    console.log("error:");
    console.log(event);
    alert("SORRY BUD \n Your internet is slow AF \n Try again somewhere else");
  });

  queue.on("complete", event => {
    //gallery.classList.add('fadeIn');
    //progress.classList.add('fadeOut');
    let startButton = document.getElementById("enterButton");
    startButton.style.visibility = "visible";
    let loadingAnim = document.getElementById("loadingAnim");
    loadingAnim.style.visibility = "hidden";
    console.log('Done Loading, loaded ' + loaded + ' files');
  });

  queue.on("fileload", handeFileComplete);
  //leavingEarth
  queue.loadFile({src:'videos/trumpSpeech.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //0 holoVid
  queue.loadFile({src:'videos/lift_off.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //1  bgVid
  //transition 1 star man
  queue.loadFile({src:'videos/bowieStarMan.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //2  holoVid
  queue.loadFile({src:'videos/transi_one.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //3  bgVid
  //space border
  queue.loadFile({src:'videos/border1.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //4  holoVid
  queue.loadFile({src:'videos/border2.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //5  holoVid
  queue.loadFile({src:'videos/border3.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //6  holoVid
  queue.loadFile({src:'videos/border_bg.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //7 bgVid
  //trans 2 the man who stole the world
  queue.loadFile({src:'videos/theManWho.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //8 holoVid
  queue.loadFile({src:'videos/transi_two.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //9 bgVid
  //space museum
  queue.loadFile({src:'videos/museum1.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //10 holoVid: video menu
  queue.loadFile({src:'videos/museum2.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //11 holoVid: video menu
  queue.loadFile({src:'videos/museum3.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //12 holoVid: video menu
  queue.loadFile({src:'videos/drive_in_loop.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //13 bgVid: loop
  queue.loadFile({src:'videos/rocket_hist.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //14 bgVid: supercut
  queue.loadFile({src:'videos/under_pressure.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //15 bgVid: underPr
  queue.loadFile({src:'videos/human_history.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //16 bgVid:samsawie


  queue.loadFile({src:'videos/gatorSons.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //17 holovid: commercial/ jetsons
  queue.loadFile({src:'videos/blue_open.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //18 holovid:credits open
  queue.loadFile({src:'videos/blue_loop.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //19:holovid:credits close
  queue.loadFile({src:'videos/blue_close.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //20:holovid:credits close
  queue.loadFile({src:'videos/moonage_daydream.webm', type:createjs.Types.VIDEO, loadTimeout:30000}); //21 bgVid: moonage

  let loaded = 0;
  function handeFileComplete(event){
    loaded++;
    // console.log("loaded "+loaded+" file(s)");
    let item = event.result;
    videoArray.push(item);
  }

  </script>
</body>
  <script src="js/globals.js"></script>
  <script src="js/leaving_earth.js"></script>
  <script src="js/transition_1.js"></script>
  <script src="js/karman_border.js"></script>
  <script src="js/transition_2.js"></script>
  <script src="js\earth_museum.js"></script>
  <script src="js\final_sequence.js"></script>
</html>
